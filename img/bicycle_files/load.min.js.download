!function(t){function e(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){function i(){this.mode=""}var n=r(1),o=r(2);n(function(){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1){var t=document.documentElement;t.className+=" is-ff"}var e=new o("[data-bg]");e.update();var r=new i,s=0;n(window).on("resize",function(){r.update(),clearTimeout(s),setTimeout(function(){e.refresh()},250)})}),i.prototype.update=function(){var t="";return t=n(window).width()>=parseInt(SiteVars["screen-md"])&&!Modernizr.touch?"desktop":"mobile","desktop"==t&&"mobile"==this.mode&&n("#Header ul.sub-menu").attr("style","").removeClass("open"),this.mode=t,n("body").removeClass("nav-desktop nav-mobile").addClass("nav-"+t),n("#Header").addClass("ready"),t}},function(t,e){t.exports=jQuery},function(t,e,r){function i(t){this.selector=t,this.$backgrounds=n(t)}var n=r(1),o=r(3);i.prototype={refresh:function(){this.$backgrounds=n(this.selector),this.update()},update:function(){this.ww=n(window).width(),this.dpr=window.devicePixelRatio||1,this.$backgrounds.each(function(t,e){var r=n(e),i=r.find(".background img");i=i.first();var o=this.getBestSource(i),s=new Image;n(s).one("load",function(){r.addClass("has-bg"),setTimeout(function(){r.find(".loader").addClass("done")},1e3)}),s.src=o,s.complete&&n(s).trigger("load"),r.css("background-image","url("+o+")").attr("data-bg",o)}.bind(this)),n(window).trigger("bgupdate")},getBestSource:function(t){var e=t.attr("srcset"),r="";try{var i=e?o.parse(e):[]}catch(t){var i=[]}return i.sort(function(t,e){return t.width&&e.width?t.width>e.width?1:t.width<e.width?-1:0:t.width&&!e.width?1:!t.width&&e.width?-1:0}),n(i).each(function(t,e){var i=!1;(e.width&&e.width<=this.ww*this.dpr||!e.width)&&(i=!0),i&&(r=e.url)}.bind(this)),""==r&&(r=i[0].url),r}},t.exports=i},function(t,e){!function(){"use strict";function e(t){return t.sort().filter(function(e,r){return JSON.stringify(e)!==JSON.stringify(t[r-1])})}function r(t){return t.filter(function(e,r){return t.indexOf(e)===r})}var i={},n=/^\d+$/;i.parse=function(t){return e(t.split(",").map(function(t){var e={};return t.trim().split(/\s+/).forEach(function(t,r){if(0===r)return e.url=t;var i=t.substring(0,t.length-1),o=t[t.length-1],s=parseInt(i,10),d=parseFloat(i);if("w"===o&&n.test(i))e.width=s;else if("h"===o&&n.test(i))e.height=s;else{if("x"!==o||isNaN(d))throw new Error("Invalid srcset descriptor: "+t+".");e.density=d}}),e}))},i.stringify=function(t){return r(t.map(function(t){if(!t.url)throw new Error("URL is required.");var e=[t.url];return t.width&&e.push(t.width+"w"),t.height&&e.push(t.height+"h"),t.density&&e.push(t.density+"x"),e.join(" ")})).join(", ")},"undefined"!=typeof t&&t.exports?t.exports=i:window.srcset=i}()}]);